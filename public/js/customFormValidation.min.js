/* 
 * Form Validation for the applicat6ion scripts
 * Date - 10/01/2019
 * 
 */

$(document).ready(function () {
    $("#requestName,#requestLocation,#categoryName,#subcategoryName,#locationName,#serviceName,#serviceDetails,.pname").keypress(function (e) {

        var regex = new RegExp("^[a-zA-Z0-9()-/@+]+$");
        var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
        if (regex.test(str) || e.which == 8 || e.which == 32) {
            return true;
        }
        e.preventDefault();
        return false;
    });
    $(".pname").keypress(function (e) {
        var regex = new RegExp("^[a-zA-Z]+$");
        var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
        if (regex.test(str) || e.which == 8 || e.which == 32) {
            return true;
        }
        e.preventDefault();
        return false;
    });

    $('#requestAddress,requestAddress2,#categoryId,#subcategoryId,#locationId,#serviceId').keyup(function () {
        if (this.value.match(/[^a-zA-Z0-9 -/]/g)) {
            this.value = this.value.replace(/[^a-zA-Z0-9 -/]/g, '');
        }
    });

    $('#servicePrice,#serviceTax,#requestMobile,#usr_pin,#min_ordr_chrg,#min_order,#ads_ordering,.number,#ttc,#priority').keyup(function () {
        if (this.value.match(/[^0-9]/g)) {
            this.value = this.value.replace(/[^0-9]/g, '');
        }
    });


    $('.onlyNum').keyup(function () {
        if (this.value.match(/[^0-9]/g)) {
            this.value = this.value.replace(/[^0-9]/g, '');
        }
    });

    $('.onlyDec').keyup(function () {
        if (this.value.match(/[^0-9.]/g)) {
            this.value = this.value.replace(/[^0-9.]/g, '');
        }
    });

    jQuery.validator.addMethod("noSpace", function (value, element) {
        return value == '' || value.trim().length != 0;
    }, "No space please and don't leave it empty");


    jQuery.validator.addMethod("notEqualTo",
            function (value, element, param) {
                var notEqual = true;
                value = $.trim(value);
                for (i = 0; i < param.length; i++) {
                    if (value == $.trim($(param[i]).val())) {
                        notEqual = false;
                    }
                }
                return this.optional(element) || notEqual;
            },
            "Please enter a diferent value."
            );

    $('#custRegister').validate({// initialize the plugin
        rules: {
            cust_nme: {
                required: true,
                noSpace: true
            },
            cust_email: {
                required: true,
                email: true,
            },
            cust_mobile: {
                required: true,
                minlength: 10,
                maxlength: 10
            },
            cust_loc: {
                required: true,
                noSpace: true
            },
            cust_landmark: {
                required: true,
                noSpace: true,
            },
            cust_service_add1: {
                required: true,
                noSpace: true,
            },
//            cust_service_add2: {
//                required: true
//            },
            cust_pin: {
                number: true,
                minlength: 6,
                maxlength: 6
            },
        }
    });

    $('#centreRegister').validate({// initialize the plugin
        rules: {
            location: {
                required: true,

            },
            centre: {
                required: true,
                noSpace: true,
            },
            centre_address: {
                required: true,
                noSpace: true,
            },
            centre_email: {
                required: true,
//            	email: true,
            },
            centre_phone: {
                required: true,
            },
            centre_url: {
                required: true,
            },
            centre_image: {
                required: function (element) {
                    if ($('#centre_id').val() == "") {
                        return true;
                    } else {
                        return false;
                    }
                }
            }

        }
    });


    $('#categoryRegister').validate({// initialize the plugin
        rules: {
            acat_name: {
                required: true,

            },
            acat_type: {
                required: true,
            },
            'acat_per_type[]': {
                required: true,
            },
            spam: {
                required: function (element) {
                    var boxes = $('.all_flag');
                    if (boxes.filter(':checked').length == 0) {
                        return true;
                    }
                    return false;
                },
                minlength: 1
            }

        },
        messages: {
            spam: "Please select at least one checkbox."
        }
    });

    $('#msinfoRegister').validate({// initialize the plugin
        rules: {
            ms_cat: {
                required: true,
            },
            ms_name: {
                required: true,
            },
            ms_type: {
                required: true,
            },

        }
    });

    $('#vopRegister').validate({// initialize the plugin
        rules: {
            center_id: {
                required: true,
            },
            ms_cat: {
                required: true,
            },
            ms_pln_quart: {
                required: true,
            },
        }
    });

    $('#taxRegister').validate({// initialize the plugin
        rules: {
            tax_cgst_rate: {
                required: true,
            },
            tax_cgst_amt: {
                required: true,
            },
            tax_sgst_rate: {
                required: true,
            },
            tax_sgst_amt: {
                required: true,
            },
        }
    });

    $('#custRegister').validate({// initialize the plugin
        rules: {
            cust_nme: {
                required: true,
                noSpace: true
            },
            cust_email: {
                required: true,
                email: true,
            },
            cust_mobile: {
                required: true,
                minlength: 10,
                maxlength: 10
            },
            cust_loc: {
                required: true,
                noSpace: true
            },
            cust_landmark: {
                required: true,
                noSpace: true,
            },
            cust_service_add1: {
                required: true,
                noSpace: true,
            },
//            cust_service_add2: {
//                required: true
//            },
            cust_pin: {
                number: true,
                minlength: 6,
                maxlength: 6
            },
        }
    });
    $('#newsRegister').validate({// initialize the plugin
        rules: {
            n_title: {
                required: true,
            },
            n_url: {
                required: true,
            },
            n_centre_id: {
                required: true,
            },
            n_status: {
                required: true,
                noSpace: true,
            },
            n_img: {
                required: function (element) {
                    if ($('#n_id').val() == "") {
                        return true;
                    } else {
                        return false;
                    }
                }
            },
            n_ordering: {
                required: true,
            },
            'n_centre_id[]': {
                required: true,
            },

        }
    });
    $('#eventRegister').validate({// initialize the plugin
        rules: {
            e_name: {
                required: true,
            },
            e_detail: {
                required: true,
            },
            e_status: {
                required: true,
            },
            e_img: {
                required: function (element) {
                    if ($('#e_id').val() == "") {
                        return true;
                    } else {
                        return false;
                    }
                }
            },
            'e_gallery[]': {
                required: function (element) {
                    if ($('#e_id').val() == "") {
                        return true;
                    } else {
                        return false;
                    }
                }
            },
            'e_centre_id[]': {
                required: true,
            },

        }
    });



    $('#locationRegister').validate({// initialize the plugin
        rules: {
            loc_name: {
                required: true,
            },

            loc_img: {
                required: function (element) {
                    if ($('#loc_id').val() == "") {
                        return true;
                    } else {
                        return false;
                    }
                }
            },

        }

    });




    $('#offerRegister').validate({
        rules: {
            offer_text: {
                required: true,
            },
            offer_banner: {
                required: true,
            },
            offer_url: {
                required: true,
            },
        }
    });

    $('#supportservRegister').validate({
        rules: {
            ss_text: {
                required: true,
            },
            ss_img: {
                required: true,
            },
            ss_status: {
                required: true,
            },
        }
    });
    $('#introRegister').validate({
        rules: {
            intro_text: {
                required: true,
            },
            intro_banner: {
                required: true,
            },
            intro_url: {
                required: true,
            },
        }
    });
    $('#vtourRegister').validate({
        rules: {
            vt_centre_id: {
                required: true,
            },
            vt_title: {
                required: true,
            },
            vt_subtitle: {
                required: true,
            },
            vt_embed_map: {
                required: true,
            },
        }
    });

    $('#discountRegister').validate({
        rules: {
            d_code: {
                required: true,
            },
            d_amnt: {
                required: true,
            },
            d_min_ordr_amnt: {
                required: true,
            },
            d_max_ofr_amnt: {
                required: true,
            },
            d_max_consumed: {
                required: true,
            },
        }
    });
    $('#applinkRegister').validate({
        rules: {
            mobile: {
                required: true,
            },
            link: {
                required: true,
            },

        }
    });
    $('#emailMatrixRegister').validate({
        rules: {
            centre_id: {
                required: true,
                noSpace: true,

            },
            'em_per[]': {
                required: true,
            },
            'em_email[]': {
                'email': true,
            },
            'em_phone[]': {
                'required': true,
            },

        }
    });


    $('#compRegister').validate({
        rules: {
            comp_name: {
                required: true,
            },
            comp_contact_person: {
                required: true,
            },
            comp_email: {
                required: true,
                email: true
            },
            comp_phone: {
                required: true,
            },
            comp_add: {
                required: true,
            },
            comp_desig: {
                required: true,
            },
            comp_loc: {
                required: true,
            },
            cust_centre: {
                required: true,
            },
        }
    });
    $('#compofferRegister').validate({
        rules: {
            co_compid: {
                required: true,
            },
            co_catid: {
                required: true,
            },
            co_allctedhrs: {
                required: true,
            },
            co_status: {
                required: true,
            },
        }
    });
    $('#subAdminRegister').validate({
        rules: {
            user_name: {
                required: true,
                noSpace: true
            },
            email: {
                required: true,
                email: true
            },
            mobile: {
                required: true,
                minlength: 10,
                maxlength: 10,
                noSpace: true
            },
            center_id: {
                required: true,
                noSpace: true
            },
        }
    });



    $('#tagsupportservRegister').validate({
        rules: {
            centreid: {
                required: true,
                noSpace: true
            },
            'ssid[]': {
                required: true,
            },
        }
    });

});

